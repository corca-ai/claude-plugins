# Session: d496934c
Model: claude-opus-4-6 | Branch: main
CWD: /Users/ted/codes/corca/claude-plugins
Started: 2026-02-07 22:01:42 KST | Claude Code v2.1.32

---
## Turn 1 [22:01:42 → 22:06:03] (261s) | Tokens: 75628↑ 8114↓

### User
Implement the following plan:

# Plan: Enhance --docs criteria + Remove deprecated plugin directories

## Task A: Enhance `--docs` mode with document design quality criteria

Reference: https://wiki.g15e.com/pages/Software%20project%20documentation%20in%20AI%20era

### Changes

#### 1. Add Section 5 to `docs-criteria.md`
**File**: `plugins/refactor/skills/refactor/references/docs-criteria.md`

Add "## 5. Document Design Quality" with 6 checks from the wiki (orphaned docs, circular references, inline overload, auto-generated files in git, undocumented decisions, obvious instructions). Skip already-covered: duplication (Section 1), README brevity (Section 3).

#### 2. Add Step 5 to SKILL.md `--docs` mode
**File**: `plugins/refactor/skills/refactor/SKILL.md`

After "### 4. Cross-Document Consistency", add Step 5 referencing docs-criteria.md Section 5.

#### 3. Version bump: `1.0.0` → `1.1.0`
**File**: `plugins/refactor/.claude-plugin/plugin.json`

---

## Task B: Remove deprecated plugin directories

### Delete 4 directories
- `plugins/suggest-tidyings/` → absorbed by `refactor --code`
- `plugins/deep-clarify/` → absorbed by `clarify` v2
- `plugins/interview/` → absorbed by `clarify` v2
- `plugins/web-search/` → absorbed by `gather-context` v2 (gather-context has its own WebSearch redirect hook)

### Update 8 files

| File | Change |
|------|--------|
| `README.md` (line 296) | "Source code remains in plugins/" → git commit ref `238f82d` |
| `README.ko.md` (line 296) | Same as above (Korean) |
| `docs/project-context.md` | Remove web-search/suggest-tidyings/deep-clarify refs from architecture patterns; simplify deprecated entries to one-line note |
| `CLAUDE.md` | "web-search plugin" → "gather-context plugin" for hook reference |
| `docs/plugin-dev-cheatsheet.md` (line 23) | Hybrid example: `web-search` → `gather-context` only |
| `docs/skills-guide.md` (line 35) | Execution-heavy: `web-search` → `gather-context` only |
| `AI_NATIVE_PRODUCT_TEAM.md` (line 87) | `[tidying](./plugins/suggest-tidyings)` → `[refactor](./plugins/refactor)` |
| `AI_NATIVE_PRODUCT_TEAM.ko.md` (line 87) | Same as above (Korean) |

---

## Verification

1. `ls plugins/` — only active plugins remain
2. `grep -r "suggest-tidyings\|deep-clarify\|interview" plugins/` — no refs in active plugins
3. `grep -r "web-search" plugins/` — only in gather-context
4. Read docs-criteria.md — Section 5 with 6 checks
5. Read SKILL.md — Step 5 in --docs mode
6. `/plugin-deploy` for refactor version/marketplace sync


If you need specific details from before exiting plan mode (like exact code snippets, error messages, or content you generated), read the full transcript at: /Users/ted/.claude/projects/-Users-ted-codes-corca-claude-plugins/c1e00dac-12ae-475f-9152-204a818201a4.jsonl

### Assistant (71 lines → truncated)
I'll start by reading the necessary files to understand the current state before making changes. Let me read the key files in parallel.
Now let me read the remaining files that need updates.
Now let me also fetch the wiki page for the document design quality criteria and check what deprecated directories exist.
Now I have all the context needed. Let me create the prompt-logs directory and set up task tracking, then begin implementing.
Now let me start implementing. I'll begin with Task A (docs-criteria, SKILL.md, version bump) and Task B (deletions + doc updates) in parallel where possible.

...(61 lines truncated)...

- `suggest-tidyings/`, `deep-clarify/`, `interview/`, `web-search/` 4개 디렉토리 삭제
- 8개 계획된 파일 + 추가 발견된 4개 파일(gather-context 스크립트 3개, protocol.md 1개) 업데이트
- 모든 active plugin에서 deprecated 참조 정리 완료 (retro의 deep-clarify 참조는 대화 히스토리 스캔용이므로 의도적 유지)

남은 단계: 커밋, 푸시, `update-all.sh` 실행입니다. 커밋할까요?

### Tools
1. Read `/Users/ted/codes/corca/claude-plugins/plugins/refactor/skills/refactor/references/docs-criteria.md`
2. Read `/Users/ted/codes/corca/claude-plugins/plugins/refactor/skills/refactor/SKILL.md`
3. Read `/Users/ted/codes/corca/claude-plugins/plugins/refactor/.claude-plugin/plugin.json`
4. Read `/Users/ted/codes/corca/claude-plugins/docs/plugin-dev-cheatsheet.md`
5. Read `/Users/ted/codes/corca/claude-plugins/CLAUDE.md`
6. Read `/Users/ted/codes/corca/claude-plugins/README.md`
7. Read `/Users/ted/codes/corca/claude-plugins/README.ko.md`
8. Read `/Users/ted/codes/corca/claude-plugins/docs/project-context.md`
9. Read `/Users/ted/codes/corca/claude-plugins/docs/skills-guide.md`
10. Read `/Users/ted/codes/corca/claude-plugins/AI_NATIVE_PRODUCT_TEAM.md`
11. Read `/Users/ted/codes/corca/claude-plugins/AI_NATIVE_PRODUCT_TEAM.ko.md`
12. WebFetch `https://wiki.g15e.com/pages/Software%20project%20documentati`
13. Bash `ls -d /Users/ted/codes/corca/claude-plugins/plugins/*/`
14. Bash `mkdir -p /Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criter`
15. TaskCreate "Add Section 5 to docs-criteria.md"
16. TaskCreate "Add Step 5 to SKILL.md --docs mode"
17. TaskCreate "Version bump refactor plugin 1.0.0 → 1.1.0"
18. TaskCreate "Delete deprecated plugin directories"
19. TaskCreate "Update 8 docs files for deprecated refs"
20. TaskCreate "Run verification checks"
21. TaskUpdate #1 → in_progress
22. Edit `/Users/ted/codes/corca/claude-plugins/plugins/refactor/skills/refactor/references/docs-criteria.md`
23. TaskUpdate #1 → completed
24. TaskUpdate #2 → in_progress
25. Edit `/Users/ted/codes/corca/claude-plugins/plugins/refactor/skills/refactor/SKILL.md`
26. TaskUpdate #2 → completed
27. TaskUpdate #3 → in_progress
28. Edit `/Users/ted/codes/corca/claude-plugins/plugins/refactor/.claude-plugin/plugin.json`
29. TaskUpdate #3 → completed
30. TaskUpdate #4 → in_progress
31. Bash `rm -rf /Users/ted/codes/corca/claude-plugins/plugins/suggest-tidyings /Users/ted`
32. Bash `rm -r /Users/ted/codes/corca/claude-plugins/plugins/suggest-tidyings`
33. Bash `rm -r /Users/ted/codes/corca/claude-plugins/plugins/deep-clarify`
34. Bash `rm -r /Users/ted/codes/corca/claude-plugins/plugins/interview`
35. Bash `rm -r /Users/ted/codes/corca/claude-plugins/plugins/web-search`
36. TaskUpdate #4 → completed
37. TaskUpdate #5 → in_progress
38. Edit `/Users/ted/codes/corca/claude-plugins/README.md`
39. Edit `/Users/ted/codes/corca/claude-plugins/README.ko.md`
40. Edit `/Users/ted/codes/corca/claude-plugins/CLAUDE.md`
41. Edit `/Users/ted/codes/corca/claude-plugins/docs/plugin-dev-cheatsheet.md`
42. Edit `/Users/ted/codes/corca/claude-plugins/docs/skills-guide.md`
43. Edit `/Users/ted/codes/corca/claude-plugins/AI_NATIVE_PRODUCT_TEAM.md`
44. Edit `/Users/ted/codes/corca/claude-plugins/AI_NATIVE_PRODUCT_TEAM.ko.md`
45. Edit `/Users/ted/codes/corca/claude-plugins/docs/project-context.md`
46. Edit `/Users/ted/codes/corca/claude-plugins/docs/project-context.md`
47. Edit `/Users/ted/codes/corca/claude-plugins/docs/project-context.md`
48. Edit `/Users/ted/codes/corca/claude-plugins/docs/project-context.md`
49. Edit `/Users/ted/codes/corca/claude-plugins/docs/project-context.md`
50. Edit `/Users/ted/codes/corca/claude-plugins/docs/project-context.md`
51. Edit `/Users/ted/codes/corca/claude-plugins/AI_NATIVE_PRODUCT_TEAM.md`
52. Edit `/Users/ted/codes/corca/claude-plugins/AI_NATIVE_PRODUCT_TEAM.md`
53. Edit `/Users/ted/codes/corca/claude-plugins/AI_NATIVE_PRODUCT_TEAM.ko.md`
54. Edit `/Users/ted/codes/corca/claude-plugins/AI_NATIVE_PRODUCT_TEAM.ko.md`
55. TaskUpdate #5 → completed
56. TaskUpdate #6 → in_progress
57. Bash `ls /Users/ted/codes/corca/claude-plugins/plugins/`
58. Grep `suggest-tidyings|deep-clarify|interview` /Users/ted/codes/corca/claude-plugins/plugins
59. Grep `web-search` /Users/ted/codes/corca/claude-plugins/plugins
60. Read `/Users/ted/codes/corca/claude-plugins/plugins/gather-context/skills/gather-context/scripts/extract.sh`
61. Read `/Users/ted/codes/corca/claude-plugins/plugins/gather-context/skills/gather-context/scripts/code-search.sh`
62. Read `/Users/ted/codes/corca/claude-plugins/plugins/gather-context/skills/gather-context/scripts/search.sh`
63. Read `/Users/ted/codes/corca/claude-plugins/plugins/plan-and-lessons/protocol.md`
64. Edit `/Users/ted/codes/corca/claude-plugins/plugins/gather-context/skills/gather-context/scripts/extract.sh`
65. Edit `/Users/ted/codes/corca/claude-plugins/plugins/gather-context/skills/gather-context/scripts/extract.sh`
66. Edit `/Users/ted/codes/corca/claude-plugins/plugins/gather-context/skills/gather-context/scripts/code-search.sh`
67. Edit `/Users/ted/codes/corca/claude-plugins/plugins/gather-context/skills/gather-context/scripts/search.sh`
68. Edit `/Users/ted/codes/corca/claude-plugins/plugins/plan-and-lessons/protocol.md`
69. Grep `suggest-tidyings|deep-clarify|/interview` /Users/ted/codes/corca/claude-plugins/plugins
70. Grep `web-search` /Users/ted/codes/corca/claude-plugins/plugins
71. Read `/Users/ted/codes/corca/claude-plugins/plugins/refactor/skills/refactor/references/docs-criteria.md`
72. Read `/Users/ted/codes/corca/claude-plugins/plugins/refactor/skills/refactor/SKILL.md`
73. Grep `suggest-tidyings` /Users/ted/codes/corca/claude-plugins
74. Grep `web-search` /Users/ted/codes/corca/claude-plugins
75. Grep `suggest-tidyings` /Users/ted/codes/corca/claude-plugins/docs/project-context.md
76. Grep `web-search` /Users/ted/codes/corca/claude-plugins/docs/project-context.md
77. Grep `web-search` /Users/ted/codes/corca/claude-plugins/docs/plugin-dev-cheatsheet.md
78. TaskUpdate #6 → completed
79. Read `/Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criteria-deprecated-cleanup/plan.md`
80. Edit `/Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criteria-deprecated-cleanup/plan.md`
81. Edit `/Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criteria-deprecated-cleanup/plan.md`
82. Edit `/Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criteria-deprecated-cleanup/plan.md`
83. Edit `/Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criteria-deprecated-cleanup/plan.md`
84. Edit `/Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criteria-deprecated-cleanup/plan.md`
85. Glob `prompt-logs/260207-02-docs-criteria-deprecated-cleanup/lessons.md`
86. Read `/Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criteria-deprecated-cleanup/lessons.md`
87. Edit `/Users/ted/codes/corca/claude-plugins/prompt-logs/260207-02-docs-criteria-deprecated-cleanup/lessons.md`
88. Skill `plugin-deploy`
89. Bash `bash /Users/ted/codes/corca/claude-plugins/.claude/skills/plugin-deploy/scripts/`
90. Bash `head -15 /Users/ted/codes/corca/claude-plugins/plugins/refactor/skills/refactor/`
