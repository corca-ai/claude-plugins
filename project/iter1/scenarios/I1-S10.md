# I1-S10 `cwf:setup` full 플로우 기본 경로

## 목적

신규 repo에서 full `cwf:setup`을 non-interactive로 끝까지 수행 가능한지 검증한다.

## 실행 일시

2026-02-19

## 실행 환경

- 샌드박스 레포: [project/iter1/sandbox/user-repo-c](../sandbox/user-repo-c)
- 실행 로그: [project/iter1/artifacts/I1-S10.log](../artifacts/I1-S10.log)
- 실행 명령(요약):
```bash
claude --print --dangerously-skip-permissions --plugin-dir /home/hwidong/codes/claude-plugins/plugins/cwf -- "cwf:setup ..."
```

## 관찰 결과

1. non-interactive 실행이 최종 응답 없이 대기 상태로 고착됨 (프로세스 수동 종료 필요)
2. 다만 중간 단계는 실제로 수행된 흔적이 남음
   - 생성 확인: [setup-contract.yaml](../sandbox/user-repo-c/.cwf/setup-contract.yaml), [shared config](../sandbox/user-repo-c/.cwf-config.yaml), [local config](../sandbox/user-repo-c/.cwf-config.local.yaml), [gitignore](../sandbox/user-repo-c/.gitignore), [pre-commit](../sandbox/user-repo-c/.githooks/pre-commit), [pre-push](../sandbox/user-repo-c/.githooks/pre-push)
   - `.cwf-config.yaml`에 `CWF_RUN_AMBIGUITY_MODE: "defer-blocking"` 기록
3. user-repo-c의 cwf-state 파일은 생성되지 않아 단계 완료가 불완전함

## 판정

- 상태: PARTIAL (중간 단계 수행 후 deadlock)
- 해석: `cwf:setup`이 AskUserQuestion 기반 단계를 포함하여 `claude --print` non-interactive에서 끝까지 닫히지 않는 분기 존재
- 영향: CI/headless 환경에서 full setup 자동화가 곧바로는 어렵다

## 경로 처리

- 이 경로는 중단
- 동일 기능 검증은 하위 스크립트 직접 실행 + 부분 모드(`--hooks`, `--tools`, `--env`...)로 분해 검증으로 계속 진행
