# Agent Operating Guide

Keep stable invariants here; keep implementation detail in scoped docs.

## Operating Invariants

- Prioritize task-level goals over local optimizations. Choose execution details autonomously.
- The user communicates in Korean. Respond in Korean for conversation and English for code/docs (unless explicitly requested otherwise).
- If implementation diverges from a pre-designed plan, record the discrepancy in session lessons, report it immediately, and ask for a user decision before proceeding.
- Never delete user-created files without explicit confirmation. Prefer `mv` over `rm`.
- For design decisions, surface meaningful alternatives with trade-offs and incorporate user-provided external references before concluding.
- Deterministic checks are authoritative; behavioral reminders are secondary. Operational details live in [plugins/cwf/hooks/hooks.json](plugins/cwf/hooks/hooks.json), [docs/plugin-dev-cheatsheet.md](docs/plugin-dev-cheatsheet.md), and [scripts/check-session.sh](scripts/check-session.sh).

## Document Roles & Navigation Map

Select autonomously what to read or update using the file descriptions in the block below.

<!-- CWF:INDEX:START -->
> Generated by `cwf:setup --index --target agents|both`.

### Root — Repository-wide orientation and current runtime/session status

- [README](README.md): Repository overview and install/update entry.
- [AGENTS](AGENTS.md): Cross-runtime invariants and navigation map.
- [CLAUDE](CLAUDE.md): Claude runtime adapter and runtime-specific deltas.
- [cwf-state](cwf-state.yaml): Live workflow state and stage checkpoints (SSOT).
- [README.ko](README.ko.md): Korean mirror of repository overview.

### plugins/cwf/skills — CWF workflow design, execution, and orchestration changes

- [setup](plugins/cwf/skills/setup/SKILL.md): Setup workflow and index generation policy.
- [update](plugins/cwf/skills/update/SKILL.md): Version check and update workflow.
- [gather](plugins/cwf/skills/gather/SKILL.md): Information acquisition workflow.
- [clarify](plugins/cwf/skills/clarify/SKILL.md): Requirement clarification workflow.
- [plan](plugins/cwf/skills/plan/SKILL.md): Plan drafting workflow.
- [review](plugins/cwf/skills/review/SKILL.md): Multi-review orchestration.
- [impl](plugins/cwf/skills/impl/SKILL.md): Plan-to-implementation orchestration.
- [retro](plugins/cwf/skills/retro/SKILL.md): Retrospective workflow.
- [handoff](plugins/cwf/skills/handoff/SKILL.md): Session and phase handoff synthesis.
- [ship](plugins/cwf/skills/ship/SKILL.md): Issue/PR/merge workflow.
- [run](plugins/cwf/skills/run/SKILL.md): End-to-end pipeline orchestration.
- [refactor](plugins/cwf/skills/refactor/SKILL.md): Multi-mode refactor/docs review workflow.

### plugins/cwf/references — Multi-skill concept/protocol consistency

- [skill-conventions](plugins/cwf/references/skill-conventions.md): Cross-skill convention baseline.
- [plan-protocol](plugins/cwf/references/plan-protocol.md): Plan quality and structure protocol.
- [agent-patterns](plugins/cwf/references/agent-patterns.md): Shared multi-agent orchestration patterns.
- [context-recovery-protocol](plugins/cwf/references/context-recovery-protocol.md): Compact recovery and persistence protocol.
- [concept-map](plugins/cwf/references/concept-map.md): Concept synchronization map across composing skills.
- [expert-advisor-guide](plugins/cwf/references/expert-advisor-guide.md): Expert advisor operation model.

### plugins/cwf/hooks — Deterministic runtime hook behavior and gating logic

- [hooks manifest](plugins/cwf/hooks/hooks.json): Hook registration manifest.
- [cwf-hook-gate](plugins/cwf/hooks/scripts/cwf-hook-gate.sh): Runtime hook gate and toggle logic.

### scripts — Deterministic automation, verification, and maintenance operations

- [install](scripts/install.sh): Main install and synchronization entrypoint.
- [update-all](scripts/update-all.sh): Bulk update workflow across managed artifacts.
- [check-session](scripts/check-session.sh): Session completeness and consistency checks.
- [check-links](scripts/check-links.sh): Link-validation wrapper used in docs checks.
- [check-index-coverage](scripts/check-index-coverage.sh): Index coverage validator for skills/docs/references.
- [doc-graph](scripts/doc-graph.mjs): Documentation graph and orphan analysis.

### docs — Project standards, architectural decisions, and documentation policy

- [project-context](docs/project-context.md): Project/org facts and long-lived conventions.
- [architecture-patterns](docs/architecture-patterns.md): Implementation and integration patterns.
- [documentation-guide](docs/documentation-guide.md): Documentation quality principles and scope rules.
- [plugin-dev-cheatsheet](docs/plugin-dev-cheatsheet.md): Practical development/testing/deploy workflows.
- [interactive-doc-review-protocol](docs/interactive-doc-review-protocol.md): Interactive documentation review process and chunking strategy.
- [v3-migration-decisions](docs/v3-migration-decisions.md): Decision rationale and migration history.

### references — External conceptual frameworks used by this repository

- [anthropic-skills-guide/README](references/anthropic-skills-guide/README.md): Anthropic skills guide index.
- [essence-of-software/distillation](references/essence-of-software/distillation.md): Core concept distillation used by review and design docs.
<!-- CWF:INDEX:END -->
