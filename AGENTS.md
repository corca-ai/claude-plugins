# Agent Operating Guide

Compressed cross-runtime index for repository agents. Keep stable invariants here; keep implementation detail in scoped docs.

## Operating Invariants

- Prioritize task-level goals over local optimizations. Choose execution details autonomously.
- The user communicates in Korean. Respond in Korean for conversation and English for code/docs (unless explicitly requested otherwise).
- If implementation diverges from a pre-designed plan, record the discrepancy in session lessons, report it immediately, and ask for a user decision before proceeding.
- Never delete user-created files without explicit confirmation. Prefer `mv` over `rm`.
- For design decisions, surface meaningful alternatives with trade-offs and incorporate user-provided external references before concluding.
- Deterministic checks are authoritative; behavioral reminders are secondary. Operational details live in [plugins/cwf/hooks/hooks.json](plugins/cwf/hooks/hooks.json), [docs/plugin-dev-cheatsheet.md](docs/plugin-dev-cheatsheet.md), and [scripts/check-session.sh](scripts/check-session.sh).

## Document Roles

- [docs/project-context.md](docs/project-context.md): Project facts, long-lived heuristics, and process conventions.
- [docs/architecture-patterns.md](docs/architecture-patterns.md): Implementation and integration patterns.
- [docs/plugin-dev-cheatsheet.md](docs/plugin-dev-cheatsheet.md): Operational reference for plugin/hook/script build-test-deploy workflows.
- [docs/documentation-guide.md](docs/documentation-guide.md): Documentation design principles and scope boundaries.
- [CLAUDE.md](CLAUDE.md): Claude runtime adapter only.
- [README.md](README.md), [README.ko.md](README.ko.md), [AI_NATIVE_PRODUCT_TEAM.md](AI_NATIVE_PRODUCT_TEAM.md), [AI_NATIVE_PRODUCT_TEAM.ko.md](AI_NATIVE_PRODUCT_TEAM.ko.md): User-facing product and usage documentation.

## Managed CWF Index

Automation anchor for [cwf:setup](plugins/cwf/skills/setup/SKILL.md) index sync into [AGENTS.md](AGENTS.md).

<!-- CWF:INDEX:START -->
> Generated by `cwf:setup --index --target agents|both`.

### Root

- **When to read**: Start here when you need project-wide context, current state, or install/usage entry points.
- **Entry point**: [README.md](README.md)
- **Key files**: [README.md](README.md), [README.ko.md](README.ko.md), [cwf-state.yaml](cwf-state.yaml), [AGENTS.md](AGENTS.md), [CLAUDE.md](CLAUDE.md)

### plugins

- **When to read**: Read when changing CWF behavior (skills, hooks, references) or adding new workflow capabilities.
- **Entry point**: [plugins/cwf](plugins/cwf)
- **Key files**: [plugins/cwf/skills/setup/SKILL.md](plugins/cwf/skills/setup/SKILL.md), [plugins/cwf/skills/review/SKILL.md](plugins/cwf/skills/review/SKILL.md), [plugins/cwf/skills/run/SKILL.md](plugins/cwf/skills/run/SKILL.md), [plugins/cwf/hooks/hooks.json](plugins/cwf/hooks/hooks.json), [plugins/cwf/hooks/scripts/cwf-hook-gate.sh](plugins/cwf/hooks/scripts/cwf-hook-gate.sh)

### scripts

- **When to read**: Read when you need operational automation for install/update, codex integration, session checks, or static analysis tools.
- **Entry point**: [scripts/install.sh](scripts/install.sh)
- **Key files**: [scripts/install.sh](scripts/install.sh), [scripts/update-all.sh](scripts/update-all.sh), [scripts/check-session.sh](scripts/check-session.sh), [scripts/codex/sync-skills.sh](scripts/codex/sync-skills.sh), [scripts/codex/install-wrapper.sh](scripts/codex/install-wrapper.sh)
- **Analysis tools**: [scripts/check-links.sh](scripts/check-links.sh) (dead link checker via lychee), [scripts/check-schemas.sh](scripts/check-schemas.sh) (JSON Schema validation via ajv-cli+yq), [scripts/doc-graph.mjs](scripts/doc-graph.mjs) (markdown reference graph + orphan detection), [scripts/find-duplicates.py](scripts/find-duplicates.py) (MinHash/LSH near-duplicate detection), [scripts/doc-churn.sh](scripts/doc-churn.sh) (git log change frequency analysis)
- **Schemas**: [scripts/schemas/cwf-state.schema.json](scripts/schemas/cwf-state.schema.json), [scripts/schemas/plugin.schema.json](scripts/schemas/plugin.schema.json), [scripts/schemas/hooks.schema.json](scripts/schemas/hooks.schema.json)

### docs

- **When to read**: Read when deciding architecture, migration policy, or documentation standards.
- **Entry point**: [docs/project-context.md](docs/project-context.md)
- **Key files**: [docs/project-context.md](docs/project-context.md), [docs/architecture-patterns.md](docs/architecture-patterns.md), [docs/documentation-guide.md](docs/documentation-guide.md), [docs/v3-migration-decisions.md](docs/v3-migration-decisions.md), [docs/plugin-dev-cheatsheet.md](docs/plugin-dev-cheatsheet.md)

### references

- **When to read**: Read when you need conceptual foundations and shared principles for skill design and review.
- **Entry point**: [references/essence-of-software/distillation.md](references/essence-of-software/distillation.md)
- **Key files**: [references/essence-of-software/distillation.md](references/essence-of-software/distillation.md)

### assets

- **When to read**: Read when updating README visuals or explaining hook behavior with screenshots.
- **Entry point**: [assets](assets)
- **Key files**: [assets/attention-hook-AskUserQuestion.png](assets/attention-hook-AskUserQuestion.png), [assets/attention-hook-normal-response.png](assets/attention-hook-normal-response.png), [assets/g-export-sheet-md-example.png](assets/g-export-sheet-md-example.png)
<!-- CWF:INDEX:END -->
